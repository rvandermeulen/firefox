prefs: [dom.storage_access.headers.enabled:true]
[storage-access-headers.tentative.https.sub.window.html]
  expected:
    if (os == "android") and debug: [OK, TIMEOUT]
    if (os == "linux") and tsan: [OK, TIMEOUT]
    if (os == "win") and debug and (processor == "x86_64"): TIMEOUT
  [Sec-Fetch-Storage-Access maintains value on same-origin redirect.]
    expected: FAIL

  [Sec-Fetch-Storage-Access is not 'active' after cross-origin same-site redirection.]
    expected: FAIL

  [Sec-Fetch-Storage-Access loses value on a cross-site redirection.]
    expected:
      if (os == "linux") and tsan: [TIMEOUT, PASS]
      if (os == "win") and debug and (processor == "x86_64"): TIMEOUT
      if (os == "android") and debug and sessionHistoryInParent: [FAIL, TIMEOUT]
      FAIL

  [Sec-Fetch-Storage-Access is `active` after a valid retry with matching explicit allowed-origin.]
    expected:
      if os == "win": PASS
      if os == "mac": PASS
      if os == "linux": PASS
      [PASS, FAIL]

  [Activate-Storage-Access retry is handled before any redirects are followed.]
    expected:
      if (os == "linux") and tsan: [TIMEOUT, PASS, NOTRUN]
      if (os == "win") and debug and (processor == "x86_64"): NOTRUN
      if (os == "android"): [TIMEOUT, NOTRUN, PASS, FAIL]

  [Sec-Fetch-Storage-Access is active after retry with wildcard `allowed-origin` value.]
    expected:
      if os == "win": PASS
      if os == "mac": PASS
      if os == "linux": PASS
      [PASS, FAIL]
